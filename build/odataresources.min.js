/*! ODataResources 2015-05-14 */
angular.module("ODataResources",["ng"]),String.prototype.trim||!function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}}(),angular.module("ODataResources").factory("$odataOperators",[function(){var a={eq:["=","==","==="],ne:["!=","!==","<>"],gt:[">"],ge:[">=",">=="],lt:["<"],le:["<=","<=="],and:["&&"],or:["||"],not:["!"],add:["+"],sub:["-"],mul:["*"],div:["/"],mod:["%"]},b=function(b){var c,d=b.trim().toLowerCase();for(c in a){if(d===c)return c;for(var e=a[c],f=0;f<e.length;f++)if(d===e[f])return c}throw"Operator "+b+" not found"};return{operators:a,convert:b}}]),angular.module("ODataResources").factory("$odataValue",[function(){var a={"%":"%25","+":"%2B","/":"%2F","?":"%3F","#":"%23","&":"%26"},b=function(b){for(var c in a)b=b.replace(c,a[c]);return b=b.replace("'","''")},c=function(a){this.value=a};return c.prototype.execute=function(){if("string"==typeof this.value)return"'"+b(this.value)+"'";if(this.value===!1)return"false";if(this.value===!0)return"true";if(isNaN(this.value))throw"Unrecognized type of "+this.value;return this.value},c}]),angular.module("ODataResources").factory("$odataProperty",[function(){var a=function(a){this.value=a};return a.prototype.execute=function(){return this.value},a}]),angular.module("ODataResources").factory("$odataBinaryOperation",["$odataOperators","$odataProperty","$odataValue",function(a,b,c){var d=function(d,e,f){if(void 0===d)throw"The property of a filter cannot be undefined";if(void 0===e)throw"The value of a filter cannot be undefined";void 0===f?(angular.isFunction(d.execute)?this.operandA=d:this.operandA=new b(d),angular.isFunction(e.execute)?this.operandB=e:this.operandB=new c(e),this.filterOperator="eq"):(angular.isFunction(d.execute)?this.operandA=d:this.operandA=new b(d),angular.isFunction(f.execute)?this.operandB=f:this.operandB=new c(f),this.filterOperator=a.convert(e))};return d.prototype.execute=function(a){var b=this.operandA.execute()+" "+this.filterOperator+" "+this.operandB.execute();return a||(b="("+b+")"),b},d.prototype.or=function(a,b,c){var e;if(void 0!==b)e=new d(a,b,c);else{if(!angular.isFunction(a.execute))throw"The object "+a+" passed as a parameter of the or method is not valid";e=a}return new d(this,"or",e)},d.prototype.and=function(a,b,c){var e;if(void 0!==b)e=new d(a,b,c);else{if(!angular.isFunction(a.execute))throw"The object "+a+" passed as a parameter of the and method is not valid";e=a}return new d(this,"and",e)},d}]),angular.module("ODataResources").factory("$odataMethodCall",["$odataProperty","$odataValue",function(a,b){var c=function(c){if(void 0===c||""===c)throw"Method name should be defined";if(this.params=[],arguments.length<2)throw"Method should be invoked with arguments";for(var d=1;d<arguments.length;d++){var e=arguments[d];this.params.push(angular.isFunction(e.execute)?e:1==d?new a(e):new b(e))}this.methodName=c};return c.prototype.execute=function(){for(var a=this.methodName+"(",b=0;b<this.params.length;b++)b>0&&(a+=","),a+=this.params[b].execute();return a+=")"},c}]),angular.module("ODataResources").factory("$odataOrderByStatement",[function(a,b,c){var d=function(a,b){if(void 0===a)throw"Orderby should be passed a property name but got undefined";this.propertyName=a,this.direction=b||"asc"};return d.prototype.execute=function(){return this.propertyName+" "+this.direction},d}]),angular.module("ODataResources").factory("$odataPredicate",["$odataBinaryOperation",function(a){var b=function(b,c,d){return angular.isFunction(b.execute)&&void 0===c?b:new a(b,c,d)};return b.and=function(b){if(b.length>0){for(var c=b[0],d=1;d<b.length;d++)c=new a(c,"and",b[d]);return c}throw"No statements specified"},b.or=function(b){if(b.length>0){for(var c=b[0],d=1;d<b.length;d++)c=new a(c,"or",b[d]);return c}throw"No statements specified for OR predicate"},b.create=function(b,c,d){return angular.isFunction(b.execute)&&void 0===c?b:new a(b,c,d)},b}]),angular.module("ODataResources").factory("$odataProvider",["$odataOperators","$odataBinaryOperation","$odataPredicate","$odataOrderByStatement",function(a,b,c,d){var e=function(a){this.callback=a,this.filters=[],this.sortOrders=[],this.takeAmount=void 0,this.skipAmount=void 0};return e.prototype.filter=function(a,c,d){if(void 0===a)throw"The first parameted is undefined. Did you forget to invoke the method as a constructor by adding the 'new' keyword?";var e;return e=angular.isFunction(a.execute)&&void 0===c?a:new b(a,c,d),this.filters.push(e),this},e.prototype.orderBy=function(a,b){return this.sortOrders.push(new d(a,b)),this},e.prototype.take=function(a){return this.takeAmount=a,this},e.prototype.skip=function(a){return this.skipAmount=a,this},e.prototype.execute=function(){var a="";if(this.filters.length>0&&(a="$filter="+c.and(this.filters).execute(!0)),this.sortOrders.length>0){""!==a&&(a+="&"),a+="$orderby=";for(var b=0;b<this.sortOrders.length;b++)b>0&&(a+=","),a+=this.sortOrders[b].execute()}return this.takeAmount&&(""!==a&&(a+="&"),a+="$top="+this.takeAmount),this.skipAmount&&(""!==a&&(a+="&"),a+="$skip="+this.skipAmount),a},e.prototype.query=function(a,b){return angular.isFunction(this.callback)?this.callback(this.execute(),a,b):void 0},e}]),function(a,b,c){"use strict";function d(a){return null!==a&&""!==a&&"hasOwnProperty"!==a&&h.test("."+a)}function e(a,b){if(!d(b))throw g("badmember",'Dotted member path "@{0}" is invalid.',b);for(var e=b.split("."),f=0,h=e.length;h>f&&a!==c;f++){var i=e[f];a=null!==a?a[i]:c}return a}function f(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var g=b.$$minErr("$resource"),h=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;b.module("ODataResources").provider("$odataresource",function(){var a=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"},odata:{method:"GET",isArray:!0}}},this.$get=["$http","$q","$odata",function(d,h,i){function j(a){return k(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function k(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function l(b,c){this.template=b,this.defaults=p({},a.defaults,c),this.urlParams={}}function m(j,k,s,t){function u(a,b){var c={};return b=p({},k,b),o(b,function(b,d){r(b)&&(b=b()),c[d]=b&&b.charAt&&"@"==b.charAt(0)?e(a,b.substr(1)):b}),c}function v(a){return a.resource}function w(a){f(a||{},this)}var x=new l(j,t);s=p({},a.defaults.actions,s),w.prototype.toJSON=function(){var a=p({},this);return delete a.$promise,delete a.$resolved,a},o(s,function(a,e){var i=/^(POST|PUT|PATCH)$/i.test(a.method);w[e]=function(j,k,l,m,s,t){var y,z,A,B={};switch(arguments.length){case 6:case 4:A=m,z=l;case 3:case 2:if(!r(k)){B=j,y=k,z=l;break}if(r(j)){z=j,A=k;break}z=k,A=l;case 1:r(j)?z=j:i?y=j:B=j;break;case 0:break;default:throw g("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var C=this instanceof w,D=C?y:a.isArray?[]:new w(y),E={},F=a.interceptor&&a.interceptor.response||v,G=a.interceptor&&a.interceptor.responseError||c;o(a,function(a,b){"params"!=b&&"isArray"!=b&&"interceptor"!=b&&(E[b]=q(a))}),i&&(E.data=y),x.setUrlParams(E,p({},u(y,a.params||{}),B),a.url),s&&""!==t&&(E.url+="?"+t);var H=d(E).then(function(c){var d=c.data,h=D.$promise;if(d){if(b.isArray(d)!==!!a.isArray)throw g("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",e,a.isArray?"array":"object",b.isArray(d)?"array":"object",E.method,E.url);a.isArray?(D.length=0,o(d,function(a){D.push("object"==typeof a?new w(a):a)})):(f(d,D),D.$promise=h)}return D.$resolved=!0,c.resource=D,c},function(a){return D.$resolved=!0,(A||n)(a),h.reject(a)});return H=H.then(function(a){var b=F(a);return(z||n)(b,a.headers),b},G),C?H:(D.$promise=H,D.$resolved=!1,D)},w.prototype["$"+e]=function(a,b,c){r(a)&&(c=b,b=a,a={});var d=w[e].call(this,a,this,b,c);return d.$promise||d}});var y=w.odata;return w.odata=function(){var a=function(a,b,c){return y({},{},b,c,!0,a)};return new i.Provider(a)},w.bind=function(a){return m(j,p({},k,a),s)},w}var n=b.noop,o=b.forEach,p=b.extend,q=b.copy,r=b.isFunction;return l.prototype={setUrlParams:function(a,c,d){var e,f,h=this,i=d||h.template,k=h.urlParams={};o(i.split(/\W/),function(a){if("hasOwnProperty"===a)throw g("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(i)&&(k[a]=!0)}),i=i.replace(/\\:/g,":"),c=c||{},o(h.urlParams,function(a,d){e=c.hasOwnProperty(d)?c[d]:h.defaults[d],b.isDefined(e)&&null!==e?(f=j(e),i=i.replace(new RegExp(":"+d+"(\\W|$)","g"),function(a,b){return f+b})):i=i.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),h.defaults.stripTrailingSlashes&&(i=i.replace(/\/+$/,"")||"/"),i=i.replace(/\/\.(?=\w+($|\?))/,"."),a.url=i.replace(/\/\\\./,"/."),o(c,function(b,c){h.urlParams[c]||(a.params=a.params||{},a.params[c]=b)})}},m}]})}(window,window.angular),angular.module("ODataResources").factory("$odata",["$odataBinaryOperation","$odataProvider","$odataValue","$odataProperty","$odataMethodCall","$odataPredicate","$odataOrderByStatement",function(a,b,c,d,e,f,g){return{Provider:b,BinaryOperation:a,Value:c,Property:d,Func:e,Predicate:f,OrderBy:g}}]);